%%%moyenne par n points un vecteurs (pour alléger sa taille)
%%%syntaxe: meanblock(vecteur, n)
%%%si matrice, moyenne par défaut dans la 2ème dim
%%%sinon, taper meanblock(vectuer, n,1)

function Y=meanblock(X,n, dim)
if nargin==2,
    dim=2;
end

siz = size(X);

perm = [1:ndims(X)];
perm(1) = dim;
perm(dim) = 1;

X = permute(X, perm);

nusiz = size(X);
nusiz(1) = floor(siz2/n);
Y = zeros(nusiz);

for i=1:floor(siz2/n)
    Y(i,:)=mean(X(n*i-n+1:n*i,:));
end
if (nargin==3)&(dim==1), Y=Y'; end